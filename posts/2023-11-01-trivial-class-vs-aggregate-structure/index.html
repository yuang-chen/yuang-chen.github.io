<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Trivial Class vs Aggregate Structure | Yac's Log</title><meta name=keywords content="C++"><meta name=description content="Trivial Class vs Aggregate Structure Trivial Class A trivial class is a class that:
Has a trivial default constructor. Has a trivial copy constructor. Has a trivial move constructor (since C++11). Has a trivial copy assignment operator. Has a trivial move assignment operator (since C++11). Has a trivial destructor. Has no virtual functions or virtual base classes. The trivial constructors/operations/destructor means they are not user-provided (i.e., is implicitly-defined or defaulted on its first declaration)."><meta name=author content="Me"><link rel=canonical href=https://yuang-chen.github.io/posts/2023-11-01-trivial-class-vs-aggregate-structure/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://yuang-chen.github.io/favicon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://yuang-chen.github.io/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://yuang-chen.github.io/favicon/favicon-32x32.png><link rel=apple-touch-icon href=https://yuang-chen.github.io/favicon/apple-touch-icon.ico><link rel=mask-icon href=https://yuang-chen.github.io/favicon/favicon-32x32.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.css integrity=sha384-bYdxxUwYipFNohQlHt0bjN/LCpueqWz13HufFEV1SUatKs1cm4L6fFgCi1jT643X crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.js integrity=sha384-Qsn9KnoKISj6dI8g7p1HBlNpVx0I8p1SvlwOldgi3IorMle61nQy4zEahWYtljaz crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Trivial Class vs Aggregate Structure"><meta property="og:description" content="Trivial Class vs Aggregate Structure Trivial Class A trivial class is a class that:
Has a trivial default constructor. Has a trivial copy constructor. Has a trivial move constructor (since C++11). Has a trivial copy assignment operator. Has a trivial move assignment operator (since C++11). Has a trivial destructor. Has no virtual functions or virtual base classes. The trivial constructors/operations/destructor means they are not user-provided (i.e., is implicitly-defined or defaulted on its first declaration)."><meta property="og:type" content="article"><meta property="og:url" content="https://yuang-chen.github.io/posts/2023-11-01-trivial-class-vs-aggregate-structure/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-11-01T15:10:00+08:00"><meta property="article:modified_time" content="2023-11-01T15:10:00+08:00"><meta property="og:site_name" content="Yac's Blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="Trivial Class vs Aggregate Structure"><meta name=twitter:description content="Trivial Class vs Aggregate Structure Trivial Class A trivial class is a class that:
Has a trivial default constructor. Has a trivial copy constructor. Has a trivial move constructor (since C++11). Has a trivial copy assignment operator. Has a trivial move assignment operator (since C++11). Has a trivial destructor. Has no virtual functions or virtual base classes. The trivial constructors/operations/destructor means they are not user-provided (i.e., is implicitly-defined or defaulted on its first declaration)."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://yuang-chen.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Trivial Class vs Aggregate Structure","item":"https://yuang-chen.github.io/posts/2023-11-01-trivial-class-vs-aggregate-structure/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Trivial Class vs Aggregate Structure","name":"Trivial Class vs Aggregate Structure","description":"Trivial Class vs Aggregate Structure Trivial Class A trivial class is a class that:\nHas a trivial default constructor. Has a trivial copy constructor. Has a trivial move constructor (since C++11). Has a trivial copy assignment operator. Has a trivial move assignment operator (since C++11). Has a trivial destructor. Has no virtual functions or virtual base classes. The trivial constructors/operations/destructor means they are not user-provided (i.e., is implicitly-defined or defaulted on its first declaration).","keywords":["C++"],"articleBody":"Trivial Class vs Aggregate Structure Trivial Class A trivial class is a class that:\nHas a trivial default constructor. Has a trivial copy constructor. Has a trivial move constructor (since C++11). Has a trivial copy assignment operator. Has a trivial move assignment operator (since C++11). Has a trivial destructor. Has no virtual functions or virtual base classes. The trivial constructors/operations/destructor means they are not user-provided (i.e., is implicitly-defined or defaulted on its first declaration).\nTrivial classes are basically those that allow bit-wise copy. The operations on these classes are expected to be fast because they can be replaced with simple memory operations like memcpy or memcmp.\nAggregate Structure An aggregate is arrays or a class (typically a struct, but possibly a class as well) that:\nHas no user-declared constructors. Has no private or protected non-static data members. Has no virtual functions. Has no virtual, private, or protected base classes. Has no user-defined destructor. Property Trivial Class Aggregate Structure Notes User-Declared Constructors Allowed Not Allowed Aggregate cannot have user-declared constructors. Private/Protected Data Members Allowed Not Allowed Aggregates can’t have private or protected non-static members. Virtual Functions Not Allowed Not Allowed Neither can have virtual functions. Virtual, Private, Protected Bases Not Allowed Not Allowed Neither can have these types of base classes. User-Defined Destructor Allowed Not Allowed Aggregate cannot have a user-defined destructor. Bitwise Copy-able Yes Yes Both can usually be copied using memcpy. Aggregate Initialization Sometimes Yes Only if the trivial class is also an aggregate. Allows Optimizations Yes Yes Both allow for various compiler optimizations. Reference https://en.cppreference.com/w/cpp/language/classes\nhttps://en.cppreference.com/w/cpp/language/aggregate_initialization\n","wordCount":"258","inLanguage":"en","datePublished":"2023-11-01T15:10:00+08:00","dateModified":"2023-11-01T15:10:00+08:00","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://yuang-chen.github.io/posts/2023-11-01-trivial-class-vs-aggregate-structure/"},"publisher":{"@type":"Organization","name":"Yac's Log","logo":{"@type":"ImageObject","url":"https://yuang-chen.github.io/favicon/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://yuang-chen.github.io/ accesskey=h title="Yac's Log (Alt + H)"><img src=https://yuang-chen.github.io/facebook alt aria-label=logo height=35>Yac's Log</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://yuang-chen.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://yuang-chen.github.io/archives title=Archives><span>Archives</span></a></li><li><a href=https://yuang-chen.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://yuang-chen.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://yuang-chen.github.io/about/aboutme title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Trivial Class vs Aggregate Structure</h1><div class=post-meta><span title='2023-11-01 15:10:00 +0800 CST'>November 1, 2023</span>&nbsp;·&nbsp;258 words&nbsp;·&nbsp;Me</div></header><div class=post-content><h2 id=trivial-class-vs-aggregate-structure>Trivial Class vs Aggregate Structure<a hidden class=anchor aria-hidden=true href=#trivial-class-vs-aggregate-structure>#</a></h2><h3 id=trivial-class><strong>Trivial Class</strong><a hidden class=anchor aria-hidden=true href=#trivial-class>#</a></h3><p>A trivial class is a class that:</p><ol><li>Has a trivial default constructor.</li><li>Has a trivial copy constructor.</li><li>Has a trivial move constructor (since C++11).</li><li>Has a trivial copy assignment operator.</li><li>Has a trivial move assignment operator (since C++11).</li><li>Has a trivial destructor.</li><li>Has no virtual functions or virtual base classes.</li></ol><p>The trivial constructors/operations/destructor means they are not user-provided (i.e., is implicitly-defined or defaulted on its first declaration).</p><p>Trivial classes are basically those that allow bit-wise copy. The operations on these classes are expected to be fast because they can be replaced with simple memory operations like <strong><code>memcpy</code></strong> or <strong><code>memcmp</code></strong>.</p><h3 id=aggregate-structure><strong>Aggregate Structure</strong><a hidden class=anchor aria-hidden=true href=#aggregate-structure>#</a></h3><p>An aggregate is arrays or a class (typically a struct, but possibly a class as well) that:</p><ol><li>Has no user-declared constructors.</li><li>Has no private or protected non-static data members.</li><li>Has no virtual functions.</li><li>Has no virtual, private, or protected base classes.</li><li>Has no user-defined destructor.</li></ol><table><thead><tr><th>Property</th><th>Trivial Class</th><th>Aggregate Structure</th><th>Notes</th></tr></thead><tbody><tr><td>User-Declared Constructors</td><td>Allowed</td><td>Not Allowed</td><td>Aggregate cannot have user-declared constructors.</td></tr><tr><td>Private/Protected Data Members</td><td>Allowed</td><td>Not Allowed</td><td>Aggregates can&rsquo;t have private or protected non-static members.</td></tr><tr><td>Virtual Functions</td><td>Not Allowed</td><td>Not Allowed</td><td>Neither can have virtual functions.</td></tr><tr><td>Virtual, Private, Protected Bases</td><td>Not Allowed</td><td>Not Allowed</td><td>Neither can have these types of base classes.</td></tr><tr><td>User-Defined Destructor</td><td>Allowed</td><td>Not Allowed</td><td>Aggregate cannot have a user-defined destructor.</td></tr><tr><td>Bitwise Copy-able</td><td>Yes</td><td>Yes</td><td>Both can usually be copied using memcpy.</td></tr><tr><td>Aggregate Initialization</td><td>Sometimes</td><td>Yes</td><td>Only if the trivial class is also an aggregate.</td></tr><tr><td>Allows Optimizations</td><td>Yes</td><td>Yes</td><td>Both allow for various compiler optimizations.</td></tr></tbody></table><h3 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h3><p><a href=https://en.cppreference.com/w/cpp/language/classes>https://en.cppreference.com/w/cpp/language/classes</a></p><p><a href=https://en.cppreference.com/w/cpp/language/aggregate_initialization>https://en.cppreference.com/w/cpp/language/aggregate_initialization</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://yuang-chen.github.io/tags/c++/>C++</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://yuang-chen.github.io/>Yac's Log</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>